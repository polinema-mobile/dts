
<!DOCTYPE HTML>
<html lang="id" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Praktikum 1 - Menyimpan & Membaca data dengan SharedPreferences Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="chapter09-04teori-room.html" />
    
    
    <link rel="prev" href="chapter09-02teori-sharedpreferences.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Ketik untuk mencari" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Digital Talent Scholarship
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../chapter01/chapter01-01pendahuluan.html">
            
                <a href="../chapter01/chapter01-01pendahuluan.html">
            
                    
                    Bab 01 Activity dan Fragment
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../chapter01/chapter01-01pendahuluan.html">
            
                <a href="../chapter01/chapter01-01pendahuluan.html">
            
                    
                    Pendahuluan
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../chapter01/chapter01-04helloworld.html">
            
                <a href="../chapter01/chapter01-04helloworld.html">
            
                    
                    Praktikum 1 Hello World
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../chapter01/chapter01-02activity.html">
            
                <a href="../chapter01/chapter01-02activity.html">
            
                    
                    Praktikum 2 Activity
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../chapter01/chapter01-03fragment.html">
            
                <a href="../chapter01/chapter01-03fragment.html">
            
                    
                    Praktikum 3 Fragment
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../chapter02/chapter02-01pendahuluan.html">
            
                <a href="../chapter02/chapter02-01pendahuluan.html">
            
                    
                    Bab 02 Android Xml Layout
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../chapter02/chapter02-01pendahuluan.html">
            
                <a href="../chapter02/chapter02-01pendahuluan.html">
            
                    
                    Pendahuluan
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../chapter02/chapter02-02linearlayout.html">
            
                <a href="../chapter02/chapter02-02linearlayout.html">
            
                    
                    Praktikum 1 Linier Layout
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../chapter02/chapter02-03relativelayout.html">
            
                <a href="../chapter02/chapter02-03relativelayout.html">
            
                    
                    Praktikum 2 Relative Layout
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../chapter02/chapter02-04constraintlayout.html">
            
                <a href="../chapter02/chapter02-04constraintlayout.html">
            
                    
                    Praktikum 3 Constraint Layout
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../chapter02/chapter02-05latihan.html">
            
                <a href="../chapter02/chapter02-05latihan.html">
            
                    
                    Praktikum 4 Latihan Convert Layout
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../chapter03/chapter03-01pendahuluan.html">
            
                <a href="../chapter03/chapter03-01pendahuluan.html">
            
                    
                    Bab 03 Konversi Desain ke Android Xml
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../chapter03/chapter03-01pendahuluan.html">
            
                <a href="../chapter03/chapter03-01pendahuluan.html">
            
                    
                    Pendahuluan
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../chapter03/chapter03-02hasil.html">
            
                <a href="../chapter03/chapter03-02hasil.html">
            
                    
                    Hasil Yang Diharapkan
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../chapter03/chapter03-03startercode.html">
            
                <a href="../chapter03/chapter03-03startercode.html">
            
                    
                    Praktikum 1 Load Starter Code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../chapter03/chapter03-04splashscreen.html">
            
                <a href="../chapter03/chapter03-04splashscreen.html">
            
                    
                    Praktikum 2 Halaman Splash Screen
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../chapter03/chapter03-05welcome.html">
            
                <a href="../chapter03/chapter03-05welcome.html">
            
                    
                    Praktikum 3 Halaman Welcome
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../chapter03/chapter03-06form.html">
            
                <a href="../chapter03/chapter03-06form.html">
            
                    
                    Praktikum 4 Halaman Form
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../chapter03/chapter03-07intentsplashscreen.html">
            
                <a href="../chapter03/chapter03-07intentsplashscreen.html">
            
                    
                    Praktikum 5 Intent Splash Screen
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="../chapter03/chapter03-08intentactivity.html">
            
                <a href="../chapter03/chapter03-08intentactivity.html">
            
                    
                    Praktikum 6 Intent Antar Activity
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="../chapter03/chapter03-09task01.html">
            
                <a href="../chapter03/chapter03-09task01.html">
            
                    
                    Tugas 1
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../chapter04/chapter04-pendahuluan.html">
            
                <a href="../chapter04/chapter04-pendahuluan.html">
            
                    
                    Bab 04 Validasi dan Interaksi Activity
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../chapter04/chapter04-pendahuluan.html">
            
                <a href="../chapter04/chapter04-pendahuluan.html">
            
                    
                    Pendahuluan
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../chapter04/chapter04-validasi.html">
            
                <a href="../chapter04/chapter04-validasi.html">
            
                    
                    Praktikum 1 - Validasi
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../chapter04/chapter04-tugasvalidasi.html">
            
                <a href="../chapter04/chapter04-tugasvalidasi.html">
            
                    
                    Praktikum 2 - Tugas Validasi
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../chapter04/chapter04-01intent.html">
            
                <a href="../chapter04/chapter04-01intent.html">
            
                    
                    Praktikum 3 - Intent
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../chapter04/chapter04-02intent-explicit.html">
            
                <a href="../chapter04/chapter04-02intent-explicit.html">
            
                    
                    Praktikum 4 - Intent Explicit
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="../chapter04/chapter04-03intent-implicit.html">
            
                <a href="../chapter04/chapter04-03intent-implicit.html">
            
                    
                    Praktikum 5 - Intent Implicit
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="../chapter04/chapter04-04intent-dengan-data.html">
            
                <a href="../chapter04/chapter04-04intent-dengan-data.html">
            
                    
                    Praktikum 6 - Intent dengan Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="../chapter04/chapter04-05parcelable.html">
            
                <a href="../chapter04/chapter04-05parcelable.html">
            
                    
                    Praktikum 7 - Parcelable
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../chapter05/chapter05-pendahuluan.html">
            
                <a href="../chapter05/chapter05-pendahuluan.html">
            
                    
                    Bab 05 Recycler View
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../chapter05/chapter05-pendahuluan.html">
            
                <a href="../chapter05/chapter05-pendahuluan.html">
            
                    
                    Pendahuluan
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../chapter05/chapter05-01teori.html">
            
                <a href="../chapter05/chapter05-01teori.html">
            
                    
                    Teori Recycler View
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../chapter05/chapter05-02recyclerviewsangatsederhana.html">
            
                <a href="../chapter05/chapter05-02recyclerviewsangatsederhana.html">
            
                    
                    Praktikum 1 - RecyclerView Sangat Sederhana
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../chapter05/chapter05-02recyclerviewsederhana.html">
            
                <a href="../chapter05/chapter05-02recyclerviewsederhana.html">
            
                    
                    Praktikum 2 - RecyclerView Sederhana
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="../chapter05/chapter05-tugas.html">
            
                <a href="../chapter05/chapter05-tugas.html">
            
                    
                    Tugas
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../chapter06/chapter06-01pendahuluan.html">
            
                <a href="../chapter06/chapter06-01pendahuluan.html">
            
                    
                    Bab 06 Project BMI
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../chapter06/chapter06-01pendahuluan.html">
            
                <a href="../chapter06/chapter06-01pendahuluan.html">
            
                    
                    Pendahuluan
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../chapter06/chapter06-02praktikum01.html">
            
                <a href="../chapter06/chapter06-02praktikum01.html">
            
                    
                    Praktikum 1 - Aplikasi BMI Sederhana part 1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../chapter06/chapter06-03praktikum02.html">
            
                <a href="../chapter06/chapter06-03praktikum02.html">
            
                    
                    Praktikum 2 - Aplikasi BMI Sederhana part 2
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../chapter07/00-pendahuluan.html">
            
                <a href="../chapter07/00-pendahuluan.html">
            
                    
                    Bab 07 Proyek
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../chapter07/00-pendahuluan.html">
            
                <a href="../chapter07/00-pendahuluan.html">
            
                    
                    Pendahuluan
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../chapter07/01-hasil.html">
            
                <a href="../chapter07/01-hasil.html">
            
                    
                    Hasil yang Diharapkan
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../chapter07/02-proyek.html">
            
                <a href="../chapter07/02-proyek.html">
            
                    
                    Proyek
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="chapter09-01pendahuluan.html">
            
                <a href="chapter09-01pendahuluan.html">
            
                    
                    Bab 09 SharedPreferences & Room Persistence Library
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="chapter09-01pendahuluan.html">
            
                <a href="chapter09-01pendahuluan.html">
            
                    
                    Pendahuluan
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="chapter09-02teori-sharedpreferences.html">
            
                <a href="chapter09-02teori-sharedpreferences.html">
            
                    
                    Teori SharedPreferences
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.9.3" data-path="chapter09-03sharedpreferences.html">
            
                <a href="chapter09-03sharedpreferences.html">
            
                    
                    Praktikum 1 - Menyimpan & Membaca data dengan SharedPreferences
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="chapter09-04teori-room.html">
            
                <a href="chapter09-04teori-room.html">
            
                    
                    Teori Room Persistence Library
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="chapter09-05appdatabase-insert.html">
            
                <a href="chapter09-05appdatabase-insert.html">
            
                    
                    Praktikum 2 - AppDatabase & Operasi INSERT
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6" data-path="chapter09-06select.html">
            
                <a href="chapter09-06select.html">
            
                    
                    Praktikum 3 - Operasi SELECT
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.7" data-path="chapter09-07update.html">
            
                <a href="chapter09-07update.html">
            
                    
                    Praktikum 4 - Operasi UPDATE
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.8" data-path="chapter09-08delete.html">
            
                <a href="chapter09-08delete.html">
            
                    
                    Praktikum 5 - Operasi DELETE
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.9" data-path="chapter09-09asynchronous-database-ops.html">
            
                <a href="chapter09-09asynchronous-database-ops.html">
            
                    
                    Praktikum 6 - Operasi Database Asynchronous
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../chapter10/chapter10-01pendahuluan.html">
            
                <a href="../chapter10/chapter10-01pendahuluan.html">
            
                    
                    Bab 10 Room Persistence Library, RecyclerView
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../chapter10/chapter10-02architecture-component.html">
            
                <a href="../chapter10/chapter10-02architecture-component.html">
            
                    
                    1 - Architecture Component dan Room Database
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../chapter10/chapter10-03MembuatViewModel.html">
            
                <a href="../chapter10/chapter10-03MembuatViewModel.html">
            
                    
                    2 - View Model
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="../chapter10/chapter10-04RecyclerView.html">
            
                <a href="../chapter10/chapter10-04RecyclerView.html">
            
                    
                    3 - RecyclerView
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="../chapter10/chapter10-05Latihan.html">
            
                <a href="../chapter10/chapter10-05Latihan.html">
            
                    
                    4 - Latihan
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Dipublikasikan dengan GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Praktikum 1 - Menyimpan & Membaca data dengan SharedPreferences</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="praktikum-1">Praktikum-1</h1>
<h2 id="menyimpan-dan-membaca-data-dengan-sharedpreferences">Menyimpan dan Membaca Data dengan SharedPreferences</h2>
<ol>
<li><p>Clone atau download starter project yang ada di repo <a href="https://github.com/polinema-mobile/dtschapter09-starter" target="_blank">Starter Code Chapter 9</a>. Jalankan projectnya, pastikan aplikasi dapat muncul pada ponsel Android Anda. Aplikasi tersebut adalah pengembangan dari aplikasi yang pernah Anda buat sebelumnya di pertemuan 3. Apabila dijalankan aplikasi tersebut hanya dapat berpindah-pindah halaman saja. Cobalah untuk membuka halaman Login, Register, dan Profile. Pada pertemuan kali ini, kita akan bekerja pada halaman-halaman tersebut.</p>
<p>Bukalah file WelcomeBackActivity.java yang ada pada project starter pertemuan 9 yang telah didownload sebelumnya. Diatas method onCreate() pada Activity tersebut, tambahkan property dan konstanta-konstanta berikut.</p>
<pre><code class="lang-java"><span class="hljs-comment">// SharedPreferences yang akan digunakan untuk menulis dan membaca data</span>
<span class="hljs-keyword">private</span> SharedPreferences sharedPrefs;

<span class="hljs-comment">// Key-key untuk data yang disimpan di SharedPrefernces</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String USERNAME_KEY = <span class="hljs-string">&quot;key_username&quot;</span>;
<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String KEEP_LOGIN_KEY = <span class="hljs-string">&quot;key_keep_login&quot;</span>;
</code></pre>
</li>
<li><p>Kemudian tambahkan baris berikut pada method onCreate(), setelah pemanggilan setContentView() untuk menginisiasi SharedPreferences yang akan kita gunakan nantinya.</p>
<pre><code class="lang-java"><span class="hljs-comment">// Inisialisasi SharedPreferences</span>
<span class="hljs-keyword">this</span>.sharedPrefs = <span class="hljs-keyword">this</span>.getSharedPreferences(<span class="hljs-string">&quot;dtsapp_sharedprefs&quot;</span>, Context.MODE_PRIVATE);
</code></pre>
</li>
<li><p>Selanjutnya, masih pada file class yang sama, perhatikan dibagian bawah, pada barisan method-method kosong seperti dibawah ini.</p>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">saveUsername</span><span class="hljs-params">()</span>
</span>{
  <span class="hljs-comment">// Menyimpan username bila diperlukan</span>
}

<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">loadSavedUsername</span><span class="hljs-params">()</span>
</span>{
  <span class="hljs-comment">// Memeriksa apakah sebelumnya ada username yang tersimpan?</span>
  <span class="hljs-comment">// Jika ya, maka tampilkan username tersebut di EditText username.</span>

}

<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">makeAutoLogin</span><span class="hljs-params">()</span>
</span>{
  <span class="hljs-comment">// Mengatur agar selanjutnya pada saat aplikasi dibuka menjadi otomatis login</span>
}

<span class="hljs-comment">// QUIZ!</span>
<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">autoLogin</span><span class="hljs-params">()</span>
</span>{
  <span class="hljs-comment">// Cek apakah sebelumnya aplikasi diatur agar bypass login?</span>
  <span class="hljs-comment">// Jika ya maka langsung buka activity berikutnya</span>
}
</code></pre>
<p>Method-method tersebut nantinya yang akan kita selesaikan sehingga aplikasi ini nantinya bisa menampilkan otomatis username di halaman login apabila CheckBox &#x2018;Remember my Username&#x2019; dikilik, dan bisa otomatis melewati halaman login (langsung masuk ke halaman Home) apabila CheckBox  &#x2018;Keep Login&#x2019; diklik.</p>
</li>
<li><p>Pertama-tama, untuk menyimpan username ke SharedPreferences, modifikasilah method saveUsername(), sehingga menjadi seperti berikut:</p>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">saveUsername</span><span class="hljs-params">()</span>
</span>{
  <span class="hljs-comment">// Menyimpan username bila diperlukan</span>

  SharedPreferences.Editor editor = <span class="hljs-keyword">this</span>.sharedPrefs.edit();

  <span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.chkRememberUsername.isChecked())
      editor.putString(USERNAME_KEY, <span class="hljs-keyword">this</span>.edtUsername.getText().toString());
  <span class="hljs-keyword">else</span>
      editor.remove(USERNAME_KEY);

  editor.apply();
}
</code></pre>
</li>
<li><p>Selanjutnya pada method loadSavedUsername(), modifikasilah juga sehingga menjadi seperti dibawah ini:</p>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">loadSavedUsername</span><span class="hljs-params">()</span>
</span>{
  <span class="hljs-comment">// Memeriksa apakah sebelumnya ada username yang tersimpan?</span>
  <span class="hljs-comment">// Jika ya, maka tampilkan username tersebut di EditText username.</span>

  String savedUsername = <span class="hljs-keyword">this</span>.sharedPrefs.getString(USERNAME_KEY, <span class="hljs-keyword">null</span>);

  <span class="hljs-keyword">if</span>(savedUsername != <span class="hljs-keyword">null</span>)
  {
      <span class="hljs-keyword">this</span>.edtUsername.setText(savedUsername);

      <span class="hljs-keyword">this</span>.chkRememberUsername.setChecked(<span class="hljs-keyword">true</span>);
  }
}
</code></pre>
</li>
<li><p>Panggil autoLogin() dan loadSaveUsername() pada method onCreate(), sehingga apabila user ke halaman login kembali, usernamenya akan otomatis tertera pada EditText username. Dengan catatan, ketika login user telah men-centang CheckBox &#x2018;Remember my Username&#x2019;. Pastikan isi dari method onCreate() Anda sekarang seperti berikut:</p>
<pre><code class="lang-java"><span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> </span>{
  <span class="hljs-keyword">super</span>.onCreate(savedInstanceState);
  setContentView(R.layout.activity_welcome_back);

  <span class="hljs-comment">// Inisialisasi SharedPreferences</span>
  <span class="hljs-keyword">this</span>.sharedPrefs = <span class="hljs-keyword">this</span>.getSharedPreferences(<span class="hljs-string">&quot;dtsapp_sharedprefs&quot;</span>, Context.MODE_PRIVATE);

  <span class="hljs-keyword">this</span>.initComponents();

  <span class="hljs-keyword">this</span>.autoLogin();
  <span class="hljs-keyword">this</span>.loadSavedUsername();
}
</code></pre>
</li>
<li><p>Selanjutnya tambahkan method baru masih pada class yang sama, denga kode seperti berikut.</p>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">validateCredential</span><span class="hljs-params">()</span>
</span>{
  String currentUsername = <span class="hljs-keyword">this</span>.edtUsername.getText().toString();
  String currentPassword = <span class="hljs-keyword">this</span>.edtPassword.getText().toString();

  <span class="hljs-keyword">return</span> (Objects.equals(currentUsername, DUMMY_USERNAME)
          &amp;&amp; Objects.equals(currentPassword, DUMMY_PASSWORD));
}
</code></pre>
<p>Method ini berfungsi untuk mencocokkan kredensial yang dientrykan user di UI. Apabila username dan password yang dientrykan tadi sama dengan konstanta DUMMY_PASSWORD &amp; DUMMY_USERNAME, maka validasi berhasil dan akan dikembalikan nilai true. Apabila tidak sesuai, maka false yang akan dikembalikan.</p>
<p><strong>Catatan</strong>: Konstanta DUMMY_PASSWORD &amp; DUMMY_USERNAME sudah dideklarasikan sebelumnya di bagian awal class WelcomeBackActivity.</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">WelcomeBackActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AppCompatActivity</span> 
</span>{
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String DUMMY_USERNAME = <span class="hljs-string">&quot;dtsawardee&quot;</span>;
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String DUMMY_PASSWORD = <span class="hljs-string">&quot;dtsrocks&quot;</span>;
</code></pre>
</li>
<li><p>Beriktunya, modifikasilah method action Button Login onBtnLogin_Click(), tambahkan kode-kode dibawah ini untuk menjalankan validasi ketika Button tersebut diklik oleh user.</p>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onBtnLogin_Click</span><span class="hljs-params">(View view)</span>
</span>{
  <span class="hljs-keyword">boolean</span> valid = <span class="hljs-keyword">this</span>.validateCredential();

  <span class="hljs-keyword">if</span>(valid)
  {
      Intent i = <span class="hljs-keyword">new</span> Intent(WelcomeBackActivity.<span class="hljs-keyword">this</span>, HomeActivity.class);
      startActivity(i);

      <span class="hljs-keyword">this</span>.saveUsername();
      <span class="hljs-keyword">this</span>.makeAutoLogin();
  }
  <span class="hljs-keyword">else</span>
  {
      Toast.makeText(<span class="hljs-keyword">this</span>, <span class="hljs-string">&quot;Invalid username and/or password!&quot;</span>, Toast.LENGTH_LONG).show();
  }
}
</code></pre>
<p>Setelah mengimplementasikan method action ini, cobalah jalankan kembali aplikasinya dan ujicobalah login menggunakan username dan password dummy seperti pada deklarasi konstantanya diatas.</p>
</li>
<li><p>Selanjutnya kita buat sebuah method yang akan menyimpan nilai Boolean ke SharedPreferences untuk menentukan apakah pada kesempatan berikutnya, aplikasi akan otomatis login atau tidak (sesuai dengan centangan CheckBox &#x2018;Keep Login&#x2019;. Modifikasilah method makeAutoLogin() sehingga menjadi seperti berikut:</p>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">makeAutoLogin</span><span class="hljs-params">()</span>
</span>{
  <span class="hljs-comment">// Mengatur agar selanjutnya pada saat aplikasi dibuka menjadi otomatis login</span>
  SharedPreferences.Editor editor = <span class="hljs-keyword">this</span>.sharedPrefs.edit();

  <span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.chkKeepLogin.isChecked())
      editor.putBoolean(KEEP_LOGIN_KEY, <span class="hljs-keyword">true</span>);
  <span class="hljs-keyword">else</span>
      editor.remove(KEEP_LOGIN_KEY);

  editor.apply();
}
</code></pre>
</li>
<li><p>Sampai disini, jalankan aplikasi Anda, seharusnya ketika Anda login dengan username dan password Dummy, Anda dapat masuk ke halaman Home. Dan ketika ChekBox &#x2018;Remember my Username&#x2019; tercentang, saat menutup dan membuka aplikasi ini kembali, username-nya sudah otomatis tertera di EditText username.
<img src="images/saved-username-loaded.png" alt="Username muncul otomatis"></p>
</li>
<li><p>Apabila aplikasi tidak dapat berjalan, maka periksalah kembali statement-statement import Anda di bagaian awal class.</p>
<pre><code class="lang-java"><span class="hljs-keyword">import</span> android.content.Context;
<span class="hljs-keyword">import</span> android.content.Intent;
<span class="hljs-keyword">import</span> android.content.SharedPreferences;
<span class="hljs-keyword">import</span> android.support.v7.app.AppCompatActivity;
<span class="hljs-keyword">import</span> android.os.Bundle;
<span class="hljs-keyword">import</span> android.view.View;
<span class="hljs-keyword">import</span> android.widget.CheckBox;
<span class="hljs-keyword">import</span> android.widget.EditText;
<span class="hljs-keyword">import</span> android.widget.Toast;

<span class="hljs-keyword">import</span> java.util.Objects;
</code></pre>
</li>
<li><p><strong>LATIHAN</strong>: Bagimana dengan auto login? Apakah aplikasi dapat otomatis melewati halaman login ketika ia dimatikan dan dihidupkan kembali? Tentunya masih belum bisa. Untuk memungkinkan hal tersebut, Anda perlu mengisi method loadSavedUsername() yang memang belum diisi. Dengan cara yang serupa, isilah method tersebut sehingga aplikasi bisa auto login ketika user sudah mencentang CheckBox &#x2018;Keep Login&#x2019;!</p>
<p><strong>PETUNJUK</strong>: Caranya hampir sama dengan yang ada pada method loadSavedUsername(), tinggal menyesuaikan saja KEY untuk mengambil SharedPreferences yang tipenya Boolean.</p>
<pre><code class="lang-java"><span class="hljs-comment">// QUIZ!</span>
<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">autoLogin</span><span class="hljs-params">()</span>
</span>{
 <span class="hljs-comment">// Cek apakah sebelumnya aplikasi diatur agar bypass login?</span>
 <span class="hljs-comment">// Jika ya maka langsung buka activity berikutnya</span>

 <span class="hljs-keyword">boolean</span> keepLogin = <span class="hljs-keyword">this</span>.sharedPrefs.getBoolean(???, <span class="hljs-keyword">false</span>);

 <span class="hljs-comment">// Teruskan sendiri...</span>
}
</code></pre>
</li>
</ol>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> hasil yang cocok "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">Tidak ada hasil yang cocok "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="chapter09-02teori-sharedpreferences.html" class="navigation navigation-prev " aria-label="Previous page: Teori SharedPreferences">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="chapter09-04teori-room.html" class="navigation navigation-next " aria-label="Next page: Teori Room Persistence Library">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Praktikum 1 - Menyimpan & Membaca data dengan SharedPreferences","level":"1.9.3","depth":2,"next":{"title":"Teori Room Persistence Library","level":"1.9.4","depth":2,"path":"chapter09/chapter09-04teori-room.md","ref":"chapter09/chapter09-04teori-room.md","articles":[]},"previous":{"title":"Teori SharedPreferences","level":"1.9.2","depth":2,"path":"chapter09/chapter09-02teori-sharedpreferences.md","ref":"chapter09/chapter09-02teori-sharedpreferences.md","articles":[]},"dir":"ltr"},"config":{"plugins":[],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"id","gitbook":"*"},"file":{"path":"chapter09/chapter09-03sharedpreferences.md","mtime":"2019-07-14T14:59:27.483Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-07-14T21:30:08.981Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

