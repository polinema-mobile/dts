
<!DOCTYPE HTML>
<html lang="id" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>1 - Architecture Component dan Room Database Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="chapter10-03MembuatViewModel.html" />
    
    
    <link rel="prev" href="chapter10-01pendahuluan.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Ketik untuk mencari" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Digital Talent Scholarship
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../chapter01/chapter01-01pendahuluan.html">
            
                <a href="../chapter01/chapter01-01pendahuluan.html">
            
                    
                    Bab 01 Activity dan Fragment
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../chapter01/chapter01-01pendahuluan.html">
            
                <a href="../chapter01/chapter01-01pendahuluan.html">
            
                    
                    Pendahuluan
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../chapter01/chapter01-04helloworld.html">
            
                <a href="../chapter01/chapter01-04helloworld.html">
            
                    
                    Praktikum 1 Hello World
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../chapter01/chapter01-02activity.html">
            
                <a href="../chapter01/chapter01-02activity.html">
            
                    
                    Praktikum 2 Activity
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../chapter01/chapter01-03fragment.html">
            
                <a href="../chapter01/chapter01-03fragment.html">
            
                    
                    Praktikum 3 Fragment
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../chapter02/chapter02-01pendahuluan.html">
            
                <a href="../chapter02/chapter02-01pendahuluan.html">
            
                    
                    Bab 02 Android Xml Layout
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../chapter02/chapter02-01pendahuluan.html">
            
                <a href="../chapter02/chapter02-01pendahuluan.html">
            
                    
                    Pendahuluan
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../chapter02/chapter02-02linearlayout.html">
            
                <a href="../chapter02/chapter02-02linearlayout.html">
            
                    
                    Praktikum 1 Linier Layout
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../chapter02/chapter02-03relativelayout.html">
            
                <a href="../chapter02/chapter02-03relativelayout.html">
            
                    
                    Praktikum 2 Relative Layout
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../chapter02/chapter02-04constraintlayout.html">
            
                <a href="../chapter02/chapter02-04constraintlayout.html">
            
                    
                    Praktikum 3 Constraint Layout
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../chapter02/chapter02-05latihan.html">
            
                <a href="../chapter02/chapter02-05latihan.html">
            
                    
                    Praktikum 4 Latihan Convert Layout
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../chapter03/chapter03-01pendahuluan.html">
            
                <a href="../chapter03/chapter03-01pendahuluan.html">
            
                    
                    Bab 03 Konversi Desain ke Android Xml
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../chapter03/chapter03-01pendahuluan.html">
            
                <a href="../chapter03/chapter03-01pendahuluan.html">
            
                    
                    Pendahuluan
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../chapter03/chapter03-02hasil.html">
            
                <a href="../chapter03/chapter03-02hasil.html">
            
                    
                    Hasil Yang Diharapkan
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../chapter03/chapter03-03startercode.html">
            
                <a href="../chapter03/chapter03-03startercode.html">
            
                    
                    Praktikum 1 Load Starter Code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../chapter03/chapter03-04splashscreen.html">
            
                <a href="../chapter03/chapter03-04splashscreen.html">
            
                    
                    Praktikum 2 Halaman Splash Screen
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../chapter03/chapter03-05welcome.html">
            
                <a href="../chapter03/chapter03-05welcome.html">
            
                    
                    Praktikum 3 Halaman Welcome
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../chapter03/chapter03-06form.html">
            
                <a href="../chapter03/chapter03-06form.html">
            
                    
                    Praktikum 4 Halaman Form
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../chapter03/chapter03-07intentsplashscreen.html">
            
                <a href="../chapter03/chapter03-07intentsplashscreen.html">
            
                    
                    Praktikum 5 Intent Splash Screen
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="../chapter03/chapter03-08intentactivity.html">
            
                <a href="../chapter03/chapter03-08intentactivity.html">
            
                    
                    Praktikum 6 Intent Antar Activity
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="../chapter03/chapter03-09task01.html">
            
                <a href="../chapter03/chapter03-09task01.html">
            
                    
                    Tugas 1
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../chapter04/chapter04-pendahuluan.html">
            
                <a href="../chapter04/chapter04-pendahuluan.html">
            
                    
                    Bab 04 Validasi dan Interaksi Activity
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../chapter04/chapter04-pendahuluan.html">
            
                <a href="../chapter04/chapter04-pendahuluan.html">
            
                    
                    Pendahuluan
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../chapter04/chapter04-validasi.html">
            
                <a href="../chapter04/chapter04-validasi.html">
            
                    
                    Praktikum 1 - Validasi
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../chapter04/chapter04-tugasvalidasi.html">
            
                <a href="../chapter04/chapter04-tugasvalidasi.html">
            
                    
                    Praktikum 2 - Tugas Validasi
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../chapter04/chapter04-01intent.html">
            
                <a href="../chapter04/chapter04-01intent.html">
            
                    
                    Praktikum 3 - Intent
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../chapter04/chapter04-02intent-explicit.html">
            
                <a href="../chapter04/chapter04-02intent-explicit.html">
            
                    
                    Praktikum 4 - Intent Explicit
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="../chapter04/chapter04-03intent-implicit.html">
            
                <a href="../chapter04/chapter04-03intent-implicit.html">
            
                    
                    Praktikum 5 - Intent Implicit
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="../chapter04/chapter04-04intent-dengan-data.html">
            
                <a href="../chapter04/chapter04-04intent-dengan-data.html">
            
                    
                    Praktikum 6 - Intent dengan Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="../chapter04/chapter04-05parcelable.html">
            
                <a href="../chapter04/chapter04-05parcelable.html">
            
                    
                    Praktikum 7 - Parcelable
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../chapter05/chapter05-pendahuluan.html">
            
                <a href="../chapter05/chapter05-pendahuluan.html">
            
                    
                    Bab 05 Recycler View
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../chapter05/chapter05-pendahuluan.html">
            
                <a href="../chapter05/chapter05-pendahuluan.html">
            
                    
                    Pendahuluan
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../chapter05/chapter05-01teori.html">
            
                <a href="../chapter05/chapter05-01teori.html">
            
                    
                    Teori Recycler View
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../chapter05/chapter05-02recyclerviewsangatsederhana.html">
            
                <a href="../chapter05/chapter05-02recyclerviewsangatsederhana.html">
            
                    
                    Praktikum 1 - RecyclerView Sangat Sederhana
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../chapter05/chapter05-02recyclerviewsederhana.html">
            
                <a href="../chapter05/chapter05-02recyclerviewsederhana.html">
            
                    
                    Praktikum 2 - RecyclerView Sederhana
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="../chapter05/chapter05-tugas.html">
            
                <a href="../chapter05/chapter05-tugas.html">
            
                    
                    Tugas
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../chapter06/chapter06-01pendahuluan.html">
            
                <a href="../chapter06/chapter06-01pendahuluan.html">
            
                    
                    Bab 06 Project BMI
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../chapter06/chapter06-01pendahuluan.html">
            
                <a href="../chapter06/chapter06-01pendahuluan.html">
            
                    
                    Pendahuluan
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../chapter06/chapter06-02praktikum01.html">
            
                <a href="../chapter06/chapter06-02praktikum01.html">
            
                    
                    Praktikum 1 - Aplikasi BMI Sederhana part 1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../chapter06/chapter06-03praktikum02.html">
            
                <a href="../chapter06/chapter06-03praktikum02.html">
            
                    
                    Praktikum 2 - Aplikasi BMI Sederhana part 2
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../chapter07/00-pendahuluan.html">
            
                <a href="../chapter07/00-pendahuluan.html">
            
                    
                    Bab 07 Proyek
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../chapter07/00-pendahuluan.html">
            
                <a href="../chapter07/00-pendahuluan.html">
            
                    
                    Pendahuluan
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../chapter07/01-hasil.html">
            
                <a href="../chapter07/01-hasil.html">
            
                    
                    Hasil yang Diharapkan
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../chapter07/02-proyek.html">
            
                <a href="../chapter07/02-proyek.html">
            
                    
                    Proyek
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../chapter09/chapter09-01pendahuluan.html">
            
                <a href="../chapter09/chapter09-01pendahuluan.html">
            
                    
                    Bab 09 SharedPreferences & Room Persistence Library
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../chapter09/chapter09-01pendahuluan.html">
            
                <a href="../chapter09/chapter09-01pendahuluan.html">
            
                    
                    Pendahuluan
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../chapter09/chapter09-02teori-sharedpreferences.html">
            
                <a href="../chapter09/chapter09-02teori-sharedpreferences.html">
            
                    
                    Teori SharedPreferences
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../chapter09/chapter09-03sharedpreferences.html">
            
                <a href="../chapter09/chapter09-03sharedpreferences.html">
            
                    
                    Praktikum 1 - Menyimpan & Membaca data dengan SharedPreferences
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="../chapter09/chapter09-04teori-room.html">
            
                <a href="../chapter09/chapter09-04teori-room.html">
            
                    
                    Teori Room Persistence Library
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="../chapter09/chapter09-05appdatabase-insert.html">
            
                <a href="../chapter09/chapter09-05appdatabase-insert.html">
            
                    
                    Praktikum 2 - AppDatabase & Operasi INSERT
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6" data-path="../chapter09/chapter09-06select.html">
            
                <a href="../chapter09/chapter09-06select.html">
            
                    
                    Praktikum 3 - Operasi SELECT
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.7" data-path="../chapter09/chapter09-07update.html">
            
                <a href="../chapter09/chapter09-07update.html">
            
                    
                    Praktikum 4 - Operasi UPDATE
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.8" data-path="../chapter09/chapter09-08delete.html">
            
                <a href="../chapter09/chapter09-08delete.html">
            
                    
                    Praktikum 5 - Operasi DELETE
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.9" data-path="../chapter09/chapter09-09asynchronous-database-ops.html">
            
                <a href="../chapter09/chapter09-09asynchronous-database-ops.html">
            
                    
                    Praktikum 6 - Operasi Database Asynchronous
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="chapter10-01pendahuluan.html">
            
                <a href="chapter10-01pendahuluan.html">
            
                    
                    Bab 10 Room Persistence Library, RecyclerView
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.10.1" data-path="chapter10-02architecture-component.html">
            
                <a href="chapter10-02architecture-component.html">
            
                    
                    1 - Architecture Component dan Room Database
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="chapter10-03MembuatViewModel.html">
            
                <a href="chapter10-03MembuatViewModel.html">
            
                    
                    2 - View Model
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="chapter10-04RecyclerView.html">
            
                <a href="chapter10-04RecyclerView.html">
            
                    
                    3 - RecyclerView
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="chapter10-05Latihan.html">
            
                <a href="chapter10-05Latihan.html">
            
                    
                    4 - Latihan
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Dipublikasikan dengan GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >1 - Architecture Component dan Room Database</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="teori-komponen-arsitektur-architecture-components">Teori Komponen Arsitektur (Architecture Components)</h1>
<p>Tujuan dari komponen arsitektur adalah memberikan panduan tentang arsitektur aplikasi dengan library untuk tasks yang umum, seperti manajemen lifecycle dan data presistance. Komponen arsitektur dapat membantu dalam menyusun aplikasi dengan cara yang robust, dapat diuji (testable), dan dapat dikelola dengan kode yang lebih sederhana. Diagram berikut ini menunjukkan bentuk dasar dari Komponen Arsitektur.
<img src="images/ArchitectureComponent.png" alt="ArchitectureComponents"></p>
<ol>
<li><strong>Entity</strong> : merupakan kelas beranotasi yang menggambarkan tabel pada database</li>
<li><strong>SQLite database</strong> : merupakan tempat penyimpanan data di dalam perangkat</li>
<li><strong>Data Access Object (DAO)</strong> : merupakan pemetaan query SQL ke dalam sebuah fungsi.</li>
<li><strong>Room database</strong> : merupakan lapisan (layer) basis data di atas SQLite database yang menangani tasks di SQLiteOpenHelper. Room database berfungsi sebagai titik akses ke database SQLite dengan memanfaatkan DAO.</li>
<li><strong>Repository</strong> : merupakan kelas yang dibuat, misalnya kelas WordRepository. Repository digunakan untuk mengelola sumber data yang bermacam-macam.</li>
<li><strong>ViewModel</strong>: merupakan penyedia data ke User Interface (UI). ViewModel bertindak sebagai pusat komunikasi antara Repository dan UI, serta menyembunyikan asal mula data.</li>
<li><strong>LiveData</strong>: merupakan kelas data yag dapat diamati, dan selalu menyimpan data versi terbaru. LiveData akan menginformasikan ketika terjadi perubahan data</li>
</ol>
<h2 id="praktikum">PRAKTIKUM</h2>
<p>Hasil Akhir Dari Chapter 10 adalah membuat Aplikasi yang Mencatat Kalori Seseorang Setiap Hari. Pada starter code telah disediakan aplikasi yang dapat menghitung Body Mass Ratio (BMR) berdasarkan literatur <a href="https://hellosehat.com/hidup-sehat/nutrisi/cara-menghitung-bmr-kebutuhan-kalori/" target="_blank">HelloSehat</a>.
Hasil Akhir Dari Aplikasi ini adalah :</p>
<ul>
<li><p><strong>1 Membuat Entity</strong></p>
<ul>
<li>Entity akan digenerate menjadi table.</li>
<li><p>StarterCode sudah menyediakan kelas LogCaloriesEntity, lengkapi code menjadi seperti pada code berikut:</p>
<p>```java
@Entity(tableName = &quot;log_calories&quot;)
public class LogCaloriesEntity {
  @PrimaryKey(autoGenerate = true)
  @NonNull
  private int id;</p>
<p>  @ColumnInfo(name = &quot;waktu_makan&quot; )
  private String waktuMakan;</p>
<p>  @ColumnInfo(name = &quot;makanan&quot; )
  private String makanan;</p>
<p>  @ColumnInfo(name = &quot;kalori_makanan&quot; )
  private String kaloriMakanan;</p>
</li>
</ul>
</li>
</ul>
<pre><code>    @ColumnInfo(name = &quot;tanggal&quot;)
    private String tanggal;


    public LogCaloriesEntity(String waktuMakan, String makanan, String kaloriMakanan,  String tanggal) {
        this.waktuMakan = waktuMakan;
        this.makanan = makanan;
        this.kaloriMakanan = kaloriMakanan;
        this.tanggal = tanggal;
    }


    public int getId() {
        return id;
    }

    public void setId(int id) {
        this.id = id;
    }

    public String getWaktuMakan() {
        return waktuMakan;
    }

    public void setWaktuMakan(String waktuMakan) {
        this.waktuMakan = waktuMakan;
    }

    public String getMakanan() {
        return makanan;
    }

    public void setMakanan(String makanan) {
        this.makanan = makanan;
    }

    public String getKaloriMakanan() {
        return kaloriMakanan;
    }

    public void setKaloriMakanan(String kaloriMakanan) {
        this.kaloriMakanan = kaloriMakanan;
    }


    public String getTanggal() {
        return tanggal;
    }

    public void setTanggal(String tanggal) {
        this.tanggal = tanggal;
    }
}
```
</code></pre><ul>
<li><p><strong>2 Membuat DAO</strong></p>
<ul>
<li>Di Data Access Object (DAO), kita akan menentukan query SQL dan menghubungkannya dengan pemanggilan metode. Compiler akan memeriksa SQL dan menghasilkan query dari anotasi untuk query umum, seperti @Insert. Secara default, semua query harus dijalankan pada thread yang terpisah. DAO harus berupa interface atau abstract class.</li>
<li>Sebagai tahap awal aplikasi kalori dapat menyimpan dan mendapatkan kalori berdasarkan tanggal.</li>
<li><p>Terdapat anotasi insert untuk melakukan inser data dan anotasi Query untuk melakukan Query</p>
<p>```java
@Insert
void InsertLogCalories(LogCaloriesEntity logCaloriesEntity);</p>
</li>
</ul>
</li>
</ul>
<pre><code>@Query(&quot;Select * from log_calories Where tanggal = :date&quot;)
LiveData&lt;List&lt;LogCaloriesEntity&gt;&gt; GetAllLogCalories(String date);
```
</code></pre><ul>
<li><p><strong>3 RoomDatabase</strong></p>
<ul>
<li>Setelah memiliki Entity dan DAO pada tahap selanjutnya adalah membuat kelas yang mengextend RoomDatabase</li>
<li>Pada langkah ini kita dapat menggunakan kelas <strong>CaloriesRoomDatabase</strong> untuk melakukan memanipuluasi SQlite dang mendapatkan data dari SQlite,
akan tetapi tujuan dari praktikum ini adalah mengenalkan pada architecture component.</li>
<li>Dan untuk melakan manipulasi data sebaiknya dilakukan terpisah dengan main thread karena aplikasi yang dibuat akan sangat berisiko force close disebabkan terlalu lama 
menghold Maint Thread.</li>
<li>Oleh karena itu dibuat satu lagi kelas dengan nama Repository yang menghubungkan dao dengan livedata</li>
</ul>
<pre><code class="lang-java"><span class="hljs-keyword">private</span>  <span class="hljs-keyword">static</span>  CaloriesRoomDatabase Instance;
<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String DATABASE_NAME = <span class="hljs-string">&quot;CaloriesDatabase&quot;</span>;

<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> LogCaloriesDao <span class="hljs-title">logCaloriesDao</span><span class="hljs-params">()</span></span>;

<span class="hljs-function"><span class="hljs-keyword">public</span>  <span class="hljs-keyword">static</span> CaloriesRoomDatabase <span class="hljs-title">GetDatabase</span><span class="hljs-params">(Context context)</span></span>{
    <span class="hljs-keyword">if</span>(Instance == <span class="hljs-keyword">null</span>){
        <span class="hljs-keyword">synchronized</span> (CaloriesRoomDatabase.class){
            <span class="hljs-keyword">if</span> (Instance == <span class="hljs-keyword">null</span>) {
                Instance = Room.databaseBuilder(context, CaloriesRoomDatabase.class, DATABASE_NAME).build();
            }
        }
    }
    <span class="hljs-keyword">return</span> Instance;
}
</code></pre>
</li>
<li><p><strong>4 Repository</strong></p>
<ul>
<li><p>Repository merupakan sebuah kelas yang mengabstraksikan akses ke berbagai sumber data. Repository bukan bagian dari Architecture Component library, tetapi Repository merupakan best practice yang disarankan untuk pemisahan antara kode dan arsitektur. Kelas repository menangani operasi data. Hal ini dapat dilihat pada Gambar Berikut ini :</p>
<p><img src="images/Repository.png" alt="Repository">;</p>
</li>
<li><p>Repository mengelola query thread dan memungkinkan kita untuk menggunakan beberapa backend. Pada contoh yang sering digunakan, Repository mengimplementasikan logika untuk memutuskan apakah akan mengambil data dari jaringan atau menggunakan hasil yang tersimpan pada database lokal.
Implementasi Repository</p>
</li>
<li>Buat kelas public</li>
<li>Tambahkan variabel untuk DAO</li>
<li><p>Tambahkan konstruktor yang menangani database dan menginisiasi varibel</p>
<p>```java
private CaloriesRoomDatabase caloriesRoomDatabase;
private  static  LogCaloriesDao logCaloriesDao;</p>
</li>
</ul>
</li>
</ul>
<pre><code>public CaloriesRepository(Context context) {
    caloriesRoomDatabase = CaloriesRoomDatabase.GetDatabase(context);
    logCaloriesDao = caloriesRoomDatabase.logCaloriesDao();
}
public void InsertCalories(LogCaloriesEntity logCaloriesEntity){
    new InsertCaloriesAsynTask().execute(logCaloriesEntity);
}

private  class  InsertCaloriesAsynTask extends AsyncTask&lt;LogCaloriesEntity,Void,Void&gt; {
    @Override
    protected Void doInBackground(LogCaloriesEntity... logCaloriesEntities) {
        logCaloriesDao.InsertLogCalories(logCaloriesEntities[0]);
        return null;
    }
}

public LiveData&lt;List&lt;LogCaloriesEntity&gt;&gt; GetAllCaloriesByDate(String date){
    return logCaloriesDao.GetAllLogCalories(date);
}
```
</code></pre>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> hasil yang cocok "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">Tidak ada hasil yang cocok "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="chapter10-01pendahuluan.html" class="navigation navigation-prev " aria-label="Previous page: Bab 10 Room Persistence Library, RecyclerView">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="chapter10-03MembuatViewModel.html" class="navigation navigation-next " aria-label="Next page: 2 - View Model">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"1 - Architecture Component dan Room Database","level":"1.10.1","depth":2,"next":{"title":"2 - View Model","level":"1.10.2","depth":2,"path":"chapter10/chapter10-03MembuatViewModel.md","ref":"chapter10/chapter10-03MembuatViewModel.md","articles":[]},"previous":{"title":"Bab 10 Room Persistence Library, RecyclerView","level":"1.10","depth":1,"path":"chapter10/chapter10-01pendahuluan.md","ref":"chapter10/chapter10-01pendahuluan.md","articles":[{"title":"1 - Architecture Component dan Room Database","level":"1.10.1","depth":2,"path":"chapter10/chapter10-02architecture-component.md","ref":"chapter10/chapter10-02architecture-component.md","articles":[]},{"title":"2 - View Model","level":"1.10.2","depth":2,"path":"chapter10/chapter10-03MembuatViewModel.md","ref":"chapter10/chapter10-03MembuatViewModel.md","articles":[]},{"title":"3 - RecyclerView","level":"1.10.3","depth":2,"path":"chapter10/chapter10-04RecyclerView.md","ref":"chapter10/chapter10-04RecyclerView.md","articles":[]},{"title":"4 - Latihan","level":"1.10.4","depth":2,"path":"chapter10/chapter10-05Latihan.md","ref":"chapter10/chapter10-05Latihan.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":[],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"id","gitbook":"*"},"file":{"path":"chapter10/chapter10-02architecture-component.md","mtime":"2019-07-14T16:31:57.887Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-07-14T21:30:08.981Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

